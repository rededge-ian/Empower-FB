<!DOCTYPE html>
<html>
<head>
    <title>List Your Friends</title>
</head>
<body>
<div id="fb-root"></div>
<script>
    // Facebook functions to run once loaded
    window.fbAsyncInit = function() {
        FB.init({
            appId      : '208407242644036', // App ID
            channelUrl : '//c9.io/rededge-ian/empower-fb/workspace/channel.html', // Channel File
            status     : true,
            cookie     : true,
            xfbml      : true
        });

        FB.Event.subscribe('auth.authResponseChange', function(response) {
            if (response.status === 'connected') {
                // Do stuff now that they're logged in
                getStuff();
            } else if (response.status === 'not_authorized') { // They did not authorize the app, prompt them again
                FB.login();
            } else { // No response (or other response), prompt again
                FB.login();
            }
        });
    };

    // Load the Facebook SDK
    (function(d){
        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement('script'); js.id = id; js.async = true;
        js.src = "//connect.facebook.net/en_US/all.js";
        ref.parentNode.insertBefore(js, ref);
    }(document));

    // Function is called by Facebook when you log in
    function getStuff() {

        // Requests the user's profile info from Facebook
        FB.api('/me', function(response) {

            // Log the console response
            console.log(response);

            // Update the name used in the myName <span>
            document.getElementById("myName").innerHTML = response.name + "'s";

        }); // End of the FB API /me request handler
    }
</script>

<h1>Friend Lister</h1>

<fb:login-button show-faces="true" width="200" max-rows="1" scope=""></fb:login-button>

<h2>A List Of <span id="myName">Your</span> Friends:</h2>

<ul>
    <li>Sarah</li>
    <li>Raj</li>
    <li>Bob</li>
</ul>

</body>
</html>